<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>モーダルテスト</title>
</head>
<body>
  <button id="open">開く</button>

  <div id="modal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.5);">
    <div id="content" style="background:#fff; margin:100px auto; padding:20px; width:300px;">
      モーダルの内容（ここをクリックしても閉じないはず）
    </div>
  </div>

  <script>
    const openBtn = document.getElementById("open");
    const modals  = document.getElementById("modal");
    const content = document.getElementById("content");

    // ボタンを押すとモーダルを表示
    openBtn.addEventListener("click", () => {
      modals.style.display = "block";
    });

    // 背景（黒い半透明背景）をクリックすると閉じる
    modals.addEventListener("click", () => {
      modals.style.display = "none";
    });

    // モーダルの中身をクリックしても閉じないようにする
    content.addEventListener("click", (e) => {
      e.stopPropagation();
    });
  </script>
</body>
</html>

<br>

<!-- 仕様
input に入力した文字列を逆にして表示
例：abc → cba -->
<input type="text" id="text" placeholder="文字を入力">
<button id="reverseBtn">反転</button>
<p>反転結果: <span id="reversed"></span></p>

<script>
  const text = document.getElementById("text");
  const reverseBtn = document.getElementById("reverseBtn");
  const reversed = document.getElementById("reversed");

  reverseBtn.addEventListener("click", () => {
    const value = text.value;
    reversed.textContent = value.split("").reverse().join("");
  });
</script>



<!-- 仕様
セレクトで色を選ぶ
選んだ色で <p> の文字色を変える -->

<select id="color">
  <option value="black">黒</option>
  <option value="red">赤</option>
  <option value="blue">青</option>
  <option value="green">緑</option>
</select>
<p id="message">文字色を変えてみよう</p>

<script>
  const color = document.getElementById("color");
  const message = document.getElementById("message");
  color.addEventListener("click", () => {
    message.style.color = color.value;
  });
</script>


<!-- リストを追加する
仕様
inputに入力した文字を「追加」ボタンで <ul> に追加
空なら追加しない -->

<input type="text" id="todoInput" placeholder="やること">
<button id="addBtn">追加</button>
<ul id="todoList"></ul>

<script>
  const todoInput = document.getElementById("todoInput");
  const addBtn = document.getElementById("addBtn");

  addBtn.addEventListener("click", () => {
    const text = todoInput.value.trim(); //<input> にユーザーが入力した文字をtrimで文字の前後の空白を消す
    if (text === "") return; //空文字なら追加せず終了

    const li = document.createElement("li"); //li（リスト項目）を作成
    li.textContent = text; //li の中身（テキスト）を設定
    todoList.appendChild(li); //li を ul に追加。appendChild() は親要素（todoList）の一番最後に子要素（li）を追加する。
    todoInput.value = ""; //入力欄を空にする(初期化)
  });

</script>


<br>

<!-- ボタンを押すとカウントアップする（連打OK）
仕様
ボタンを押すたびに +1
連打してもずっとカウントされる -->

<button id="countBtn">カウント</button>
<p>回数:<span id="count">0</span></p>

<script>
  const countBtn = document.getElementById("countBtn");
  const countSpan = document.getElementById("count");
  let count = 0;
  countBtn.addEventListener("click", () => {
    count ++;
    countSpan.textContent = count;
  });

</script>



<br>

<label><input type="checkbox" class="item" value="りんご"> りんご</label><br>
<label><input type="checkbox" class="item" value="バナナ"> バナナ</label><br>
<label><input type="checkbox" class="item" value="ぶどう"> ぶどう</label><br>

<button id="showBtn">表示</button>
<p id="output"></p>

<script>
  const items = document.querySelectorAll(".item");
  const showBtn = document.getElementById("showBtn");
  const output = document.getElementById("output");
  showBtn.addEventListener("click", () => {
    const selected = [];
    //すべてのチェックボックスを1つずつ確認
    items.forEach(item => {
      if(item.checked) selected.push(item.value);//チェックされているか判定.チェックされていれば true。されていなければ false
    });
    //配列を文字列にして表示
    output.textContent = selected.join("、");
  });
</script>

<!-- querySelectorAll とは？
指定した条件に合う要素を すべて取得
返り値は NodeList（配列のようなもの） -->

<br>

<!-- 文字数カウント＋警告表示 -->
<input id="txt" type="text" placeholder="20文字まで推奨">
<p>文字数: <span id="len">0</span></p>
<p id="warn" style="color:crimson;"></p>

<script>
  const txt = document.getElementById("txt");
  const len = document.getElementById("len");
  const warn = document.getElementById("warn");
  txt.addEventListener("input", () => {
    const n = txt.value.length;
    len.textContent = n;
    if(n > 20) {
      warn.textContent = "長すぎます";
    } else {
      warn.textContent = "";
    }
  });
</script>

<br>
<!-- EnterキーでToDo追加 -->
<input id="todo" type="text" placeholder="Enterで追加">
<ul id="list"></ul>
<script>
  const todo = document.getElementById("todo");
  const list = document.getElementById("list");
  //e → イベントオブジェクト
  todo.addEventListener("keydown", (e) => {
    if (e.key !== "Enter") return; //Enter キー以外は無視する

    const text = todo.value.trim(); //入力された文字を取得
    if (text === "") return; //空文字なら追加しない

    const li = document.createElement("li"); //<li> 要素を作成
    li.textContent = text; //<li> に文字を入れる
    list.appendChild(li); //リストに追加（ここで画面に表示される）

    todo.value = ""; //入力欄を空にする

  });
</script>

<br>

<!-- いいね切り替え（ON/OFF） -->

<style>
  .liked { background: #ffecb3; }/* ボタンが「いいね状態」のときの見た目を定義 */
</style>
<button id="likeBtn">いいね</button>

<script>
  const likeBtn = document.getElementById("likeBtn");
  let liked = false; //liked は 現在の状態（ON / OFF）を表す変数.false → まだいいねしていない

  likeBtn.addEventListener("click", () => {
    liked = !liked; //状態を反転させる !liked → 真偽値を反転
    likeBtn.textContent = liked ? "いいね解除" : "いいね"; //条件 ? trueのとき : falseのとき
    likeBtn.classList.toggle("liked", liked); //classList.toggle(クラス名, 条件)。条件が true → クラスを 付ける。条件が false → クラスを 外す
  });

</script>

<!-- classList は「要素についている CSS クラスを操作するための専用API」です。
ボタン・div・p など HTML要素の class を安全＆簡単に付け外しできます。 -->

<br>

<!-- スムーススクロール（ページ内リンク） -->
<style>
  section { height: 500px; border:1px solid #ddd; margin:10px 0; padding:10px; }
  nav a { margin-right: 10px; }
</style>

<nav>
  <a href="#s1">Section1</a>
  <a href="#s2">Section2</a>
  <a href="#s3">Section3</a>
</nav>

<section id="s1">Section1</section>
<section id="s2">Section2</section>
<section id="s3">Section3</section>

<script>
  // ページ内リンクを全部取得し、それぞれにクリックイベントを設定
document.querySelectorAll('a[href^="#"]').forEach(a => {
  a.addEventListener("click", (e) => {
    e.preventDefault(); //preventDefault() を呼ぶことでブラウザ本来のジャンプ動作を止める
    // スクロール先の要素を取得
    const target = document.querySelector(a.getAttribute("href"));
    if (!target) return; //対象がなければ処理終了。安全対策。id が存在しないtypo があるなどの場合にエラーを防ぐ。
    target.scrollIntoView({ behavior: "smooth" }); //スムーズにスクロールする.scrollIntoView()は指定した要素が画面内に来るようスクロールするメソッド。
  });
});
</script>

<br>

<!-- 文字数カウント＋上限超過の制御 -->
<textarea id="msg" type="text"></textarea>
<p>文字数:<span id="count">0</span></p>
<p>残り:<span id="remain">50</span></p>
<script>
  const msg = document.getElementById("msg");
  const count_1 = document.getElementById("count");
  const remain = document.getElementById("remain");
  const maxLen = 50;

  msg.addEventListener("input", () => {
    let text = msg.value; //textarea の現在の文字列を取得
    if (text.length > maxLen) {
      text = text.slice(0, maxLen); //sliceで0文字目から50文字目までを残す
      msg.value = text; //textarea の中身を 強制的に50文字に戻す
    }
    count_1.textContent = text.length; //span に現在の文字数を表示
    remain.textContent = maxLen - text.length //残り文字数を表示
  });
</script>

<br>

<!-- チェックボックス合計（リアルタイム） -->
<label><input type="checkbox" class="item" data-price="300">りんご(300)</label><br>
<label><input type="checkbox" class="item" data-price="150">バナナ(150)</label><br>
<label><input type="checkbox" class="item" data-price="500">メロン(500)</label><br>
<p>合計:<span id="total">¥0</span></p>

<script>
  const items_1 = document.querySelectorAll(".item"); //.item クラスを持つ要素をすべて取得
  const total = document.getElementById("total");

  function updateTotal() {
    let sum = 0;
    items_1.forEach(item => {
      if(item.checked) sum += Number(item.dataset.price); //チェック状態を確認しながら加算
    });
    total.textContent = sum
  }

  items_1.forEach(item => item.addEventListener("change", updateTotal)); //チェック変更時に再計算
  updateTotal(); //ページ読み込み直後に合計を正しく表示。初期状態が「¥0」になる

</script>
<!-- data-price="300"はJavaScriptから item.dataset.price で取得できる -->

<br>

<!-- 仕様
ラジオボタンで表示切り替え（配送方法）
配送方法を選ぶと説明文を切り替える
standard →「通常配送：3〜5日」
express →「お急ぎ便：1〜2日」
初期は「通常配送：3〜5日」を表示 -->

<label><input type="radio" name="ship" value="standard" checked>通常</label>
<label><input type="radio" name="ship" value="express">お急ぎ</label>
<p id="desc">通常配送：3〜5日</p>

<script>
  const radios = document.querySelectorAll('input[name="ship"]'); //name="ship" を持つ input をすべて取得
  const desc = document.getElementById("desc");
  //説明文を更新する関数
  function updateDesc() {
    const selected = document.querySelector('input[name="ship"]:checked'); //:checked → 現在チェックされているもの
    if (selected.value === "express") {
      desc.textContent = "お急ぎ便：1〜2日";
    } else {
      desc.textContent = "通常配送：3〜5日";
    }
  }
  //changeイベントを登録
  radios.forEach(r => r.addEventListener("change", updateDesc)); //ラジオの選択が変わったら updateDesc() を実行
  updateDesc(); //初期表示を整える.ページ読み込み直後に1回実行

</script>


<!--
htmlの箇所について
type="radio" → どれか1つだけ選べる
name="ship" → 同じグループとして扱われる
checked → 初期状態で選択されている
-->